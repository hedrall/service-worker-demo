<html>
<head></head>
<body>
<div>
  <h1>サービスワーカーのテスト</h1>

  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', async () => {
        // 1. サービスワーカーを登録
        // (登録済みの場合は install イベントが発生することなく成功する)
        const registration = await navigator.serviceWorker.register('/service-worker-demo/service-worker.js').catch(e => {
          console.error('service worker 登録失敗');
          throw e;
        });
        console.log('service worker 登録完了')
      });
    }
  </script>
</div>
</body>
</html>